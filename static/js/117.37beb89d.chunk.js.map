{"version":3,"file":"static/js/117.37beb89d.chunk.js","mappings":"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","sources":["components/home/Ad.js","components/shared-components/RequestError.js","hooks/useScript.js","components/home/HomeAds.js","pages/Home.js"],"sourcesContent":["import React, { useState } from 'react';\nimport view from '../../assets/ICONs/view.png';\nimport pin from '../../assets/ICONs/pin.png';\nimport heart2 from '../../assets/ICONs/heart2.png';\nimport heart from '../../assets/ICONs/heart.png';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { image_url, video_url } from '../../utils/constants';\nimport { useMainContext } from '../../contexts/MainProvider';\nimport { useAdsContext } from '../../contexts/AdsProvider';\n\nimport ShareBox from './ShareBox';\nconst Ad = ({\n  id,\n  title,\n  price,\n  location,\n  created_at,\n  User,\n  AdWatch,\n  advertisement_attachements: [a],\n  grid,\n  prevLink = 'default',\n  cover_photo,\n}) => {\n  const { token, favAdsIds, handleFavouriteAd } = useAdsContext();\n  const { currency } = useMainContext();\n  const [showMsg, setShowMsg] = useState(false);\n  // var dte = created_at;\n  // var today = new Date(dte);\n  // var d = today.getFullYear();\n  var dte = created_at;\n  var today = new Date(dte);\n  var d =\n    today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\n  const navigate = useNavigate();\n  const handleClick = (e) => {\n    if (!e.target.classList.contains('heart')) {\n      navigate(`/singleproduct/${id}`, { prevLink });\n    }\n  };\n  const renderedPrice = price && price.toLocaleString();\n\n  return (\n    <div className={grid}>\n      <div className='card h-100'>\n        {a && a.files.split('.').pop() == 'mp4' ? (\n          cover_photo && cover_photo.includes('/uploads') ? (\n            <Link\n              className='img bg-info w-100  text-center'\n              to={`/singleproduct/${id}`}\n              state={prevLink.pathname ? prevLink.pathname : null}\n            >\n              <img\n                src={`${cover_photo && image_url + cover_photo}`}\n                className='card-img-top image-card '\n                alt='img1'\n                loading='lazy'\n              />\n            </Link>\n          ) : (\n            <Link\n              className='img bg-info w-100  text-center'\n              to={`/singleproduct/${id}`}\n              state={prevLink.pathname ? prevLink.pathname : null}\n            >\n              <div className='video-upload w-100'>\n                <video\n                  controls='controls'\n                  src={`${video_url}${a.files}`}\n                  className='w-100 h-100'\n                  loading='lazy'\n                ></video>\n              </div>\n            </Link>\n          )\n        ) : (\n          <Link\n            className='img bg-info w-100  text-center'\n            to={`/singleproduct/${id}`}\n            state={prevLink.pathname ? prevLink.pathname : null}\n          >\n            <img\n              src={`${a && image_url + a.files}`}\n              className='card-img-top image-card '\n              alt='img1'\n            />\n          </Link>\n        )}\n\n        {/* start card */}\n        <div className='py-2 px-2  d-flex flex-sm-nowrap  justify-content-between align-items-center w-100'>\n          <h6>{title}</h6>\n          <h6 className='text-secondary'>\n            {/* {price} */}\n            {renderedPrice}\n\n            <span className='text-primary'>{currency}</span>\n          </h6>\n          {/* <ShareBox\n                url={`https://adsapp.org/#/singleproduct/${id}`}\n                quote={title}\n              /> */}\n        </div>\n        <div className='px-2 d-flex align-items-start align-items-sm-center flex-column flex-sm-row text-decoration-none '>\n          <Link\n            className='d-flex flex-row flex-sm-column align-items-center gap-3 text-decoration-none'\n            to={`/seller/${User.id}`}\n          >\n            <img\n              src={User.image && `${image_url}${User.image}`}\n              alt='person'\n              className='rounded-circle avatar'\n            />\n            <span className='text-nowrap'>{User.name}</span>\n          </Link>\n          <div\n            className='w-100 me-2  text-decoration-none pointer'\n            onClick={handleClick}\n          >\n            <div className='d-flex justify-content-start align-items-start w-100 mt-2'>\n              <address className='text-primary info ms-2'>\n                <img\n                  src={pin}\n                  alt='pination'\n                  className='very-small-icon ms-1'\n                />\n                {location}\n              </address>\n              <span className='text-primary info'>\n                <img src={view} alt='view' className='very-small-icon ms-1' />\n                {AdWatch && AdWatch} مشاهدة\n              </span>\n            </div>\n          </div>\n        </div>\n        <img\n          src={favAdsIds.includes(id) ? heart2 : heart}\n          alt='heart'\n          className='position-absolute heart pointer'\n          onClick={() => handleFavouriteAd(id)}\n        />\n        <Link\n          className='text-muted text-center pb-3 text-decoration-none'\n          to={`/singleproduct/${id}`}\n          state={prevLink.pathname ? prevLink.pathname : null}\n        >\n          تاريخ النشر {d}\n        </Link>\n      </div>\n\n      {/* end card */}\n    </div>\n  );\n};\n\nexport default Ad;\n","import React from 'react';\r\n\r\nconst RequestError = () => {\r\n  return <h6 className='text-primary text-center'>حدث خطأ ما حاول مرة أخري</h6>;\r\n};\r\n\r\nexport default RequestError;\r\n","import { useEffect } from 'react';\r\n\r\nconst useScript = (url) => {\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n\r\n    script.src = url;\r\n    script.async = true;\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, [url]);\r\n};\r\n\r\nexport default useScript;\r\n","import React from 'react';\nimport Loading from '../shared-components/Loading';\nimport { useAdsContext } from '../../contexts/AdsProvider';\nimport Ad from './Ad';\nimport { useMainContext } from '../../contexts/MainProvider';\nimport RequestError from '../shared-components/RequestError';\n\nconst HomeNotSigned = () => {\n  const {\n    allAds,\n    allAdsLoading,\n    fetchMoreAds,\n    currentPage,\n    moreAdsLoading,\n    allAdsError,\n    turnToSpecial,\n    lastPagePaidPackage,\n    lastPageSpecial,\n    lastPage,\n    turnToFree,\n    turnToPaidPackage,\n  } = useAdsContext();\n  const { closeSearch } = useMainContext();\n  const handleAdMore = () => {\n    if (lastPage == currentPage - 1) {\n      //   dispatch change isSpecial :true and currentPage = 1 and lastPage : 'as'\n      turnToSpecial();\n    } else {\n      if (lastPageSpecial == currentPage - 1) {\n        turnToPaidPackage();\n      } else if (lastPagePaidPackage == currentPage - 1 && allAds.length < 50) {\n        turnToFree();\n      } else {\n        fetchMoreAds();\n      }\n    }\n  };\n  return (\n    <section\n      className='home-not-signed color-in-background py-3'\n      onClick={closeSearch}\n    >\n      <div className='container-fluid'>\n        <h3 className='py-4 ps-2 text-primary'>اعلانات جديدة</h3>\n        <div className='row g-1 gy-2 mx-1'>\n          {allAdsLoading ? (\n            <Loading />\n          ) : allAdsError ? (\n            <RequestError />\n          ) : (\n            allAds &&\n            allAds.length > 0 && (\n              <>\n                {allAds.map((ad, index) => {\n                  return (\n                    <Ad\n                      {...ad}\n                      key={index}\n                      grid='col-md-6 col-lg-4 col-xl-3 '\n                    />\n                  );\n                })}\n                <div className='text-center mt-3'>\n                  {moreAdsLoading && <Loading />}\n                  <button\n                    className='btn btn-light text-secondary fs-5 fw-bold px-4'\n                    onClick={handleAdMore}\n                  >\n                    المزيد\n                  </button>\n                </div>\n              </>\n            )\n          )}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default HomeNotSigned;\n","import { async } from '@firebase/util';\nimport React, { useEffect } from 'react';\nimport HomeAds from '../components/home/HomeAds';\nimport Footer from '../components/shared-components/Footer';\nimport { useAdsContext } from '../contexts/AdsProvider';\nimport { useMainContext } from '../contexts/MainProvider';\nimport { useUserContext } from '../contexts/UserProvider';\nimport useScript from '../hooks/useScript';\nimport { url_for_advertise } from '../utils/constants';\n\nconst Home = () => {\n  useScript(url_for_advertise);\n  const {\n    toggleNavbarFunc,\n    closeSubmenu,\n    closeSearch,\n    fetchLocationIp,\n    countryName,\n    cityName,\n  } = useMainContext();\n  const { fetchAllAds, fetchCityAds, fetchFavouriteIds } = useAdsContext();\n  const { token } = useUserContext();\n  useEffect(() => {\n    toggleNavbarFunc(false);\n    closeSubmenu(false);\n    closeSearch();\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    token && fetchFavouriteIds();\n  }, [token]);\n\n  useEffect(() => {\n    if (countryName) {\n      fetchAllAds(countryName, 1);\n    } else if (cityName) {\n      fetchCityAds(cityName, 1);\n    } else {\n      fetchLocationIp();\n    }\n  }, [countryName, cityName]);\n\n  return (\n    <main className='home'>\n      <HomeAds />\n      <Footer />\n    </main>\n  );\n};\nexport default Home;\n"],"names":["_ref","id","title","price","location","created_at","User","AdWatch","a","_slicedToArray","advertisement_attachements","grid","_ref$prevLink","prevLink","cover_photo","_useAdsContext","useAdsContext","favAdsIds","token","handleFavouriteAd","currency","useMainContext","_useState","useState","_useState2","today","Date","d","getFullYear","getMonth","getDate","navigate","useNavigate","renderedPrice","toLocaleString","_jsx","className","children","_jsxs","files","split","pop","includes","Link","to","concat","state","pathname","src","image_url","alt","loading","controls","video_url","image","name","onClick","e","target","classList","contains","pin","view","heart2","heart","url","useEffect","script","document","createElement","async","body","appendChild","removeChild","allAds","allAdsLoading","fetchMoreAds","currentPage","moreAdsLoading","allAdsError","turnToSpecial","lastPagePaidPackage","lastPageSpecial","lastPage","turnToFree","turnToPaidPackage","closeSearch","Loading","RequestError","length","_Fragment","map","ad","index","_createElement","Ad","_objectSpread","key","useScript","url_for_advertise","_useMainContext","toggleNavbarFunc","closeSubmenu","fetchLocationIp","countryName","cityName","fetchAllAds","fetchCityAds","fetchFavouriteIds","useUserContext","window","scrollTo","HomeAds","Footer"],"sourceRoot":""}