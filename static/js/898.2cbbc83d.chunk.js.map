{"version":3,"file":"static/js/898.2cbbc83d.chunk.js","mappings":"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","sources":["components/shared-components/RedirectToPage.js","components/settings/MySettings.js","pages/Settings.js"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst RedirectToPage = ({ url = '/', seconds = '3000' }) => {\r\n  const navigate = useNavigate();\r\n  const timer = setTimeout(() => {\r\n    navigate(`${url}`);\r\n  }, seconds);\r\n  return () => {\r\n    clearTimeout(timer);\r\n  };\r\n};\r\n\r\nexport default RedirectToPage;\r\n","import React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useUserContext } from '../../contexts/UserProvider';\nimport axios from 'axios';\nimport { change_pass_url } from '../../utils/constants';\nimport Loading from '../shared-components/Loading';\nimport Message from '../shared-components/Message';\nimport RedirectToPage from '../shared-components/RedirectToPage';\nconst MySettings = () => {\n  // Api\n  const { token } = useUserContext();\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [errorRequest, setErrorRequest] = useState(false);\n\n  const handleChangePass = async (url) => {\n    setLoading(true);\n    try {\n      const response = await axios.post(\n        url,\n        JSON.stringify({\n          old_password: formValues.currentPass,\n          new_password_one: formValues.newPass,\n          new_password_two: formValues.verifyNewPass,\n        }),\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      setLoading(false);\n      setSuccess(true);\n    } catch (error) {\n      // console.log(error);\n      setLoading(false);\n      setErrorRequest(true);\n    }\n  };\n\n  // Api\n  const initialValues = {\n    privateAd: '',\n    currentPass: '',\n    newPass: '',\n    verifyNewPass: '',\n  };\n  const [formValues, setFormValues] = useState(initialValues);\n  const [formErrors, setFormErrors] = useState({});\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [privateAd, setPrivateAd] = useState();\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormValues({ ...formValues, [name]: value });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setFormErrors(validate(formValues));\n    setIsSubmit(true);\n  };\n  const validate = (values) => {\n    const errors = {};\n    // const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\n    if (!values.currentPass) {\n      errors.currentPassError = 'من فضلك أدخل كلمة المرور الحالية';\n    }\n    if (!values.newPass) {\n      errors.newPassError = 'من فضلك أدخل كلمة المرور الجديدة';\n    } else if (!values.verifyNewPass) {\n      errors.verifyNewPassError = 'من فضلك أعد كتابة كلمة المرور الجديدة';\n    } else if (values.newPass !== values.verifyNewPass) {\n      errors.samePass = 'كلمة المرور يجب أن تكون متطابقتين';\n    }\n    return errors;\n  };\n  useEffect(() => {\n    if (Object.keys(formErrors).length === 0 && isSubmit) {\n      handleChangePass(change_pass_url);\n    }\n  }, [formErrors]);\n\n  return (\n    <div className='my-settings  my-5'>\n      <div className='container-fluid'>\n        {loading ? (\n          <Loading />\n        ) : success ? (\n          <>\n            <Message textMsg='تم تعديل كلمة السر بنجاح' />\n            <RedirectToPage />\n          </>\n        ) : (\n          <>\n            {/* onSubmit={handleSettings} */}\n            <form onSubmit={handleSubmit}>\n              <div className='row'>\n                <div className='col-md-2'>\n                  <h3 className='text-primary'>الإعدادات</h3>\n                </div>\n                <div className='col-md-10'>\n                  {/* Box 2 */}\n                  <div className='box1 bg-primary py-4 rounded mt-2'>\n                    <div className='box border-bottom pb-4'>\n                      <h4 className='px-2 text-white'>تغيير كلمة المرور</h4>\n                    </div>\n                    <div className='form mx-2 row'>\n                      <div className='col-sm-9 col-12'>\n                        <input\n                          className='form-control form-control-lg mt-4 '\n                          type='password'\n                          placeholder='كلمةالمرور الحالية'\n                          name='currentPass'\n                          value={formValues.currentPass}\n                          onChange={handleChange}\n                        />\n                        <p className='text-danger mt-2'>\n                          {formErrors.currentPassError}\n                        </p>\n                        {errorRequest && (\n                          <p className='text-danger mt-2'>\n                            خطأ في كلمة السر الحالية\n                          </p>\n                        )}\n                      </div>\n                      <div className='col-sm-9 col-12'>\n                        <input\n                          className='form-control form-control-lg mt-4 '\n                          type='password'\n                          placeholder='كلمة المرور الجديدة'\n                          name='newPass'\n                          value={formValues.newPass}\n                          onChange={handleChange}\n                        />\n                        <p className='text-danger'>{formErrors.newPassError}</p>\n                      </div>\n                      <div className='col-sm-9 col-12'>\n                        <input\n                          className='form-control form-control-lg mt-4 '\n                          type='password'\n                          placeholder='تأكيد كلمةالمرور الجديدة'\n                          name='verifyNewPass'\n                          value={formValues.verifyNewPass}\n                          onChange={handleChange}\n                        />\n                        <p className='text-danger'>\n                          {formErrors.verifyNewPassError}\n                          {formErrors.samePass}\n                        </p>\n                      </div>\n                      <div className='col-12 text-center mt-5'>\n                        <button className='btn btn-secondary btn-lg text-white'>\n                          تغيير كلمة المرور\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  {/* Box 2 */}\n                </div>\n              </div>\n            </form>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MySettings;\n","import React, { useEffect } from 'react';\nimport MySettings from '../components/settings/MySettings';\nimport { useMainContext } from '../contexts/MainProvider';\nconst Settings = () => {\n  const { toggleNavbarFunc, closeSubmenu, closeSearch } = useMainContext();\n  useEffect(() => {\n    toggleNavbarFunc(false);\n    closeSubmenu(false);\n    closeSearch();\n    window.scrollTo(0, 0);\n  }, []);\n  return (\n    <main className='settings'>\n      <MySettings />\n    </main>\n  );\n};\n\nexport default Settings;\n"],"names":["_ref","_ref$url","url","_ref$seconds","seconds","navigate","useNavigate","timer","setTimeout","concat","clearTimeout","token","useUserContext","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","success","setSuccess","_useState5","_useState6","errorRequest","setErrorRequest","handleChangePass","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","axios","post","JSON","stringify","old_password","formValues","currentPass","new_password_one","newPass","new_password_two","verifyNewPass","headers","Authorization","sent","t0","stop","_x","apply","arguments","_useState7","privateAd","_useState8","setFormValues","_useState9","_useState10","formErrors","setFormErrors","_useState11","_useState12","isSubmit","setIsSubmit","_useState13","_useState14","handleChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","validate","values","errors","currentPassError","samePass","verifyNewPassError","newPassError","useEffect","Object","keys","length","change_pass_url","_jsx","className","children","Loading","_jsxs","_Fragment","Message","textMsg","RedirectToPage","onSubmit","preventDefault","type","placeholder","onChange","_useMainContext","useMainContext","toggleNavbarFunc","closeSubmenu","closeSearch","window","scrollTo","MySettings"],"sourceRoot":""}